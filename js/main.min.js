var currCont=$("#homecont"),currSection=$("#home"),projects
$(document).ready(function(){const e=window.location.hash.substring(1)||"home"
switchCont($("."+e)),$.getJSON("./js/projects.json",function(e){projects=e,navbar=$(this).find("nav"),$("#filler").height(navbar.height()),$(document).on("scroll",function(){$(document).scrollTop()-$("header").height()<=0&&"navbarFixed"===navbar.attr("id")&&($("#filler").hide(),navbar.attr("id","navbar")),$(document).scrollTop()-($("header").height()-$("nav").height())>=0&&(navbar.attr("id","navbarFixed"),$("#filler").show())}),loadProjs(),$(".home").on("click",navClick),$(".projects").on("click",navClick),$(".resume").on("click",navClick)})})
var loadProjs=function(){for(var e=0;e<projects.length;++e){var t=$("<a></a>")
t.attr("href",projects[e].link)
var a=$("<div></div>")
a.addClass("projBox")
var o=$("<div></div>")
o.addClass("imgCont")
var n=$("<img>")
n.addClass("projImg"),n.attr("src",projects[e].image)
var r=n.height()/n.width()
n.width(350),n.height(350/r),o.append(n),a.append(o)
var c=$("<div></div>")
c.addClass("infoCont")
var s=$("<h1></h1>")
if(s.addClass("projTitle"),s.text(projects[e].title),c.append(s),0!==projects[e].colab.length){var p=$("<p>Collaborators: </p>")
p.addClass("infoList")
for(var d=0;d<projects[e].colab.length;d++)0!==d&&p.append(", "),d==projects[e].colab.length-1&&0!==d&&p.append("and "),p.append('<a href="'+projects[e].colab[d].link+'"> '+projects[e].colab[d].name+"</a>"),d==projects[e].colab.length-1&&p.append(".")
c.append(p)}if(0!==projects[e].tech.length){var i=$("<p>Technologies: </p>")
i.addClass("infoList")
for(var d=0;d<projects[e].tech.length;d++)0!==d&&i.append(", "),d==projects[e].tech.length-1&&0!==d&&i.append("and "),i.append('<a href="'+projects[e].tech[d].link+'"> '+projects[e].tech[d].name+"</a>"),d==projects[e].tech.length-1&&i.append(".")
c.append(i)}var l=$("<p></p>")
l.addClass("projDesc"),l.text(projects[e].desc),c.append(l),a.append(c),t.append(a),$("#projectscont").append(t)}},navClick=function(e){e.preventDefault(),switchCont($(this))},switchCont=function(e){const t=$(e.data("cont"))
window.history.pushState({},"","#"+e.attr("class")),currCont!=t&&(currSection.removeClass("selected"),currSection=e,e.addClass("selected"),currCont.hide(),t.show(),currCont=t)}
