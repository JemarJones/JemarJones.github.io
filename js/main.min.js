var currCont=$("#homecont"),currSection=$("#home"),projects
$(document).ready(function(){const e=window.location.hash.substring(1)||"home"
return"resume"==e?void(window.location="/resume.pdf"):(switchCont($("."+e)),void $.getJSON("./js/projects.json",function(e){projects=e,navbar=$(this).find("nav"),$("#filler").height(navbar.height()),$(document).on("scroll",function(){$(document).scrollTop()-$("header").height()<=0&&"navbarFixed"===navbar.attr("id")&&($("#filler").hide(),navbar.attr("id","navbar")),$(document).scrollTop()-($("header").height()-$("nav").height())>=0&&(navbar.attr("id","navbarFixed"),$("#filler").show())}),loadProjs(),$(".home").on("click",navClick),$(".projects").on("click",navClick)}))})
var loadProjs=function(){for(var e=0;e<projects.length;++e){var t=$("<a></a>")
t.attr("href",projects[e].link)
var a=$("<div></div>")
a.addClass("projBox")
var o=$("<div></div>")
o.addClass("imgCont")
var r=$("<img>")
r.addClass("projImg"),r.attr("src",projects[e].image)
var n=r.height()/r.width()
r.width(350),r.height(350/n),o.append(r),a.append(o)
var c=$("<div></div>")
c.addClass("infoCont")
var s=$("<h1></h1>")
if(s.addClass("projTitle"),s.text(projects[e].title),c.append(s),0!==projects[e].colab.length){var d=$("<p>Collaborators: </p>")
d.addClass("infoList")
for(var p=0;p<projects[e].colab.length;p++)0!==p&&d.append(", "),p==projects[e].colab.length-1&&0!==p&&d.append("and "),d.append('<a href="'+projects[e].colab[p].link+'"> '+projects[e].colab[p].name+"</a>"),p==projects[e].colab.length-1&&d.append(".")
c.append(d)}if(0!==projects[e].tech.length){var i=$("<p>Technologies: </p>")
i.addClass("infoList")
for(var p=0;p<projects[e].tech.length;p++)0!==p&&i.append(", "),p==projects[e].tech.length-1&&0!==p&&i.append("and "),i.append('<a href="'+projects[e].tech[p].link+'"> '+projects[e].tech[p].name+"</a>"),p==projects[e].tech.length-1&&i.append(".")
c.append(i)}var l=$("<p></p>")
l.addClass("projDesc"),l.text(projects[e].desc),c.append(l),a.append(c),t.append(a),$("#projectscont").append(t)}},navClick=function(e){e.preventDefault(),switchCont($(this))},switchCont=function(e){const t=$(e.data("cont"))
window.history.pushState({},"","#"+e.attr("class")),currCont!=t&&(currSection.removeClass("selected"),currSection=e,e.addClass("selected"),currCont.hide(),t.show(),currCont=t)}
